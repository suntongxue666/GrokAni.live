<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GrokAni - Your AI-Powered Grok Ani Chat Companion</title>
    <meta name="description"
        content="GrokAni is an AI-powered anime chat companion that offers a personalized experience through real-time conversation and emotional resonance.">
    <meta name="keywords"
        content="Grok Ani, Grok AI Companion, Ani Companion, AI Companion, Anime Chat, Anime Reactions, artificial intelligence, voice chat, GPT, Claude, Gemini, voice synthesis, conversational AI">
    <meta name="author" content="GrokAni Team">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://grokani.com/">

    <!-- Additional SEO Meta Tags -->
    <meta name="theme-color" content="#6B46C1">
    <meta name="msapplication-TileColor" content="#6B46C1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="GrokAni">

    <!-- Preconnect to external domains -->
    <link rel="preconnect" href="https://coin-images.coingecko.com">
    <link rel="dns-prefetch" href="https://platform.openai.com">
    <link rel="dns-prefetch" href="https://console.anthropic.com">
    <link rel="dns-prefetch" href="https://makersuite.google.com">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="GrokAni - Your AI-Powered Grok Ani Chat Companion">
    <meta property="og:description"
        content="GrokAni is an AI-powered anime chat companion that offers a personalized experience through real-time conversation and emotional resonance.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://grokani.live/">
    <meta property="og:image" content="https://i.imgur.com/TZe9vge.png">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GrokAni - Your AI-Powered Grok Ani Chat Companion">
    <meta name="twitter:description"
        content="GrokAni is an AI-powered anime chat companion that offers a personalized experience through real-time conversation and emotional resonance.">
    <meta name="twitter:image" content="https://i.imgur.com/TZe9vge.png">

    <!-- Favicon -->
    <link rel="icon" type="image/jpeg"
        href="https://ciwjjfcuhubjydajazkk.supabase.co/storage/v1/object/public/webstie-icon//GrokAni.jpg">
    <link rel="apple-touch-icon"
        href="https://ciwjjfcuhubjydajazkk.supabase.co/storage/v1/object/public/webstie-icon//GrokAni.jpg">

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">

    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="script.js" as="script">

    <link rel="stylesheet" href="styles.css">

    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-5ZLXDV99EC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-5ZLXDV99EC');
    </script>
    
    
</head>

<body>
    <!-- Header -->
    <header class="header">
        <nav class="nav">
            <div class="nav-brand">
                <div class="logo">
                    <img src="https://i.imgur.com/TZe9vge.png" alt="GrokAni Logo"
                        style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                </div>
                <span class="brand-name">GrokAni</span>
            </div>
            <div class="nav-links">
                <a href="#features" class="nav-link">Features</a>
                <a href="#models" class="nav-link">AI Models</a>
                <a href="#setup" class="nav-link">Setup</a>
                <a href="#about" class="nav-link">About</a>
            </div>
            <div class="nav-mobile">
                <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title">Chat with GrokAni by Role-Playing Experience</h1>
                <p class="hero-subtitle">GrokAni is an AI-powered anime chat companion that offers a personalized
                    experience through real-time conversation and emotional resonance.</p>
                <div class="hero-actions" style="margin-top: 150px;">
                    <a href="#" onclick="loadStartChatAd()" class="cta-button primary">
                        <span class="button-icon">ğŸ¤</span>
                        Start Chat
                    </a>
                </div>
            </div>
            <div class="hero-character">
                <div class="character-container" style="position: relative; margin-top: 40px;">
                    <div class="character-image-container" style="width: 360px; height: 640px; border-radius: 30px; overflow: hidden; position: relative; box-shadow: 0 20px 60px rgba(107, 70, 193, 0.4); border: 3px solid rgba(168, 85, 247, 0.5);">
                        <!-- å›¾ç‰‡1 -->
                        <img src="https://imgur.com/0DVHMPC.jpg" alt="Ani Wallpaper 1" class="ani-wallpaper active"
                            style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; opacity: 1; transition: opacity 1.5s ease-in-out; z-index: 1; border-radius: 0;">
                        <!-- å›¾ç‰‡2 -->
                        <img src="https://imgur.com/i4DXike.jpg" alt="Ani Wallpaper 2" class="ani-wallpaper"
                            style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 1.5s ease-in-out; z-index: 1; border-radius: 0;">
                        <!-- å›¾ç‰‡3 -->
                        <img src="https://imgur.com/tlBU7OV.jpg" alt="Ani Wallpaper 3" class="ani-wallpaper"
                            style="width: 100%; height: 100%; object-fit: cover; position: absolute; top: 0; left: 0; opacity: 0; transition: opacity 1.5s ease-in-out; z-index: 1; border-radius: 0;">
                    </div>
                    <a href="wallpapers.html" class="wallpaper-banner" style="position: absolute; bottom: 40px; left: 0; right: 0; background: rgba(107, 70, 193, 0.7); color: white; text-align: center; padding: 12px; font-weight: 600; text-decoration: none; backdrop-filter: blur(5px); z-index: 101; margin: 0 20px; border-radius: 30px;" onclick="loadWallpaperAd(event)">
                        View Ani Wallpapers
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section-title">Why Choose GrokAni?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">ğŸ¯</div>
                    <h3 class="feature-title">Natural Voice Interaction</h3>
                    <p class="feature-description">Experience seamless voice conversations with advanced speech
                        recognition and synthesis technology.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ§ </div>
                    <h3 class="feature-title">Multiple AI Models</h3>
                    <p class="feature-description">Choose from GPT, Claude, Gemini, and other leading AI models for
                        diverse conversation styles.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">ğŸ”’</div>
                    <h3 class="feature-title">Privacy First</h3>
                    <p class="feature-description">Your conversations stay private with local processing and secure API
                        connections.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">âš¡</div>
                    <h3 class="feature-title">Lightning Fast</h3>
                    <p class="feature-description">Optimized for speed with minimal latency for real-time voice
                        interactions.</p>
                </div>
            </div>
        </div>
    </section>
    <!-- AI Models Section -->
    <section id="models" class="models">
        <div class="container">
            <h2 class="section-title">Supported AI Models</h2>
            <p class="section-subtitle">Connect with your favorite AI models using your own API keys</p>
            <div class="models-grid">
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-icon">ğŸ¤–</div>
                        <h3 class="model-name">OpenAI GPT</h3>
                    </div>
                    <p class="model-description">Access GPT-4, GPT-3.5, and other OpenAI models for versatile
                        conversations.</p>
                    <a href="https://platform.openai.com/api-keys" target="_blank" class="api-link">Get OpenAI API Key
                        â†’</a>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-icon">ğŸ­</div>
                        <h3 class="model-name">Anthropic Claude</h3>
                    </div>
                    <p class="model-description">Experience Claude's thoughtful and nuanced conversational abilities.
                    </p>
                    <a href="https://console.anthropic.com/account/keys" target="_blank" class="api-link">Get Claude API
                        Key â†’</a>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-icon">ğŸ’</div>
                        <h3 class="model-name">Google Gemini</h3>
                    </div>
                    <p class="model-description">Leverage Google's advanced Gemini models for intelligent interactions.
                    </p>
                    <a href="https://makersuite.google.com/app/apikey" target="_blank" class="api-link">Get Gemini API
                        Key â†’</a>
                </div>
                <div class="model-card">
                    <div class="model-header">
                        <div class="model-icon">ğŸŒŸ</div>
                        <h3 class="model-name">More Models</h3>
                    </div>
                    <p class="model-description">Support for additional models including local LLMs and custom
                        endpoints.</p>
                    <span class="api-link disabled">Coming Soon</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Setup Section -->
    <section id="setup" class="setup">
        <div class="container">
            <h2 class="section-title">Quick Setup Guide</h2>
            <div class="setup-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3 class="step-title">Choose Your AI Model</h3>
                        <p class="step-description">Select from OpenAI GPT, Anthropic Claude, or Google Gemini based on
                            your preference.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3 class="step-title">Get API Key</h3>
                        <p class="step-description">Visit the provider's website and generate your API key. Links are
                            provided in the AI Models section above.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3 class="step-title">Configure Settings</h3>
                        <p class="step-description">Enter your API key in the settings panel and customize your voice
                            preferences.</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3 class="step-title">Start Chatting</h3>
                        <p class="step-description">Click the "Start Chat" button and begin your AI voice conversation
                            experience!</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <div class="container">
            <h2 class="section-title">About GrokAni</h2>
            <div class="about-content">
                <div class="about-text">
                    <p class="about-description">
                        GrokAni is built upon the open-source Airi project, extending its capabilities to create a
                        comprehensive AI voice assistant platform. We believe in the power of open-source collaboration
                        and transparent AI development.
                    </p>
                    <p class="about-description">
                        Our mission is to make advanced AI voice interactions accessible to everyone, while maintaining
                        the highest standards of privacy and user control. With support for multiple AI models and
                        continuous improvements, GrokAni represents the future of conversational AI.
                    </p>
                    <div class="about-features">
                        <div class="about-feature">
                            <span class="feature-check">âœ“</span>
                            <span>Open Source Foundation</span>
                        </div>
                        <div class="about-feature">
                            <span class="feature-check">âœ“</span>
                            <span>Privacy-Focused Design</span>
                        </div>
                        <div class="about-feature">
                            <span class="feature-check">âœ“</span>
                            <span>Multi-Model Support</span>
                        </div>
                        <div class="about-feature">
                            <span class="feature-check">âœ“</span>
                            <span>Continuous Innovation</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <img src="https://i.imgur.com/TZe9vge.png" alt="GrokAni Logo"
                            style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover;">
                    </div>
                    <span class="footer-brand-name">GrokAni</span>
                </div>
            </div>
            <div class="footer-bottom">
                <p class="footer-text">
                    Built with â¤ï¸ based on the open-source <a href="https://github.com/moeru-ai/airi" target="_blank"
                        class="footer-link-external">Airi project</a>.
                    Licensed under the same terms as the original project.
                </p>
                <p class="footer-copyright">Â© 2024 GrokAni. All rights reserved. | <a href="sitemap.xml"
                        class="footer-link-external" target="_blank">Sitemap</a></p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // åŠ è½½å£çº¸é¡µé¢å¹¿å‘Šè„šæœ¬å‡½æ•°
        function loadWallpaperAd(event) {
            // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œé˜²æ­¢å¹¿å‘Šè„šæœ¬åŠ è½½å‰è·³è½¬
            event.preventDefault(); 
            console.log('GrokAni Action: Bypassing wallpaper ad and redirecting to wallpapers page.');
            // ç›´æ¥è·³è½¬åˆ°å£çº¸é¡µé¢ï¼Œä¸å†åŠ è½½å¹¿å‘Š
            window.location.href = 'wallpapers.html';
            
            // // ä»¥ä¸‹æ˜¯è¢«å±è”½çš„å¹¿å‘Šä»£ç ï¼Œä¸å†æ‰§è¡Œ
            // // æ£€æµ‹æ˜¯å¦ä¸ºç§»åŠ¨è®¾å¤‡
            // const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            // // å¦‚æœæ˜¯ç§»åŠ¨è®¾å¤‡ï¼Œç›´æ¥è·³è½¬åˆ°å£çº¸é¡µé¢
            // if (isMobile) {
            //     console.log('Mobile device detected, skipping ad and redirecting to wallpapers page');
            //     window.location.href = 'wallpapers.html';
            //     event.preventDefault();
            //     return;
            // }
            
            // // PCç«¯æ˜¾ç¤ºå¹¿å‘Š
            // console.log('Desktop device detected, showing ad before redirecting');
            
            // // åˆ›å»ºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œåœ¨ä¸€å®šæ—¶é—´åè‡ªåŠ¨è·³è½¬åˆ°å£çº¸é¡µé¢ï¼ˆå¦‚æœå¹¿å‘Šæ²¡æœ‰æ­£å¸¸åŠ è½½ï¼‰
            // var adTimeout = setTimeout(function() {
            //     window.location.href = 'wallpapers.html';
            // }, 2000); // 2ç§’åè‡ªåŠ¨è·³è½¬
            
            // // ä¿å­˜è®¡æ—¶å™¨IDï¼Œä»¥ä¾¿åœ¨å¹¿å‘ŠåŠ è½½æˆåŠŸæ—¶æ¸…é™¤
            // window.wallpaperAdTimeoutId = adTimeout;
            
            // // åŠ è½½å¹¿å‘Šè„šæœ¬
            // var adScript = document.createElement('script');
            
            // // ä½¿ç”¨åŒ¿åå‡½æ•°åŒ…è£…å¹¿å‘Šä»£ç 
            // (function(d,z,s){
            //     s.src='https://'+d+'/401/'+z;
            //     try{
            //         (document.body||document.documentElement).appendChild(s);
            //     }catch(e){
            //         console.error('Error loading wallpaper ad:', e);
            //         // å¦‚æœå¹¿å‘ŠåŠ è½½å¤±è´¥ï¼Œç«‹å³è·³è½¬åˆ°å£çº¸é¡µé¢
            //         window.location.href = 'wallpapers.html';
            //     }
            // })('groleegni.net',9588029,adScript);
            
            // // é˜»æ­¢é»˜è®¤è¡Œä¸ºï¼Œç”±æˆ‘ä»¬æ§åˆ¶è·³è½¬
            // event.preventDefault();
        }
        
        // åŠ è½½å¼€å§‹èŠå¤©å¹¿å‘Šè„šæœ¬å‡½æ•°
        function loadStartChatAd() {
            console.log('GrokAni Action: Bypassing start chat ad and initiating chat process.');
            // ç›´æ¥å¼€å§‹èŠå¤©æµç¨‹ï¼Œä¸å†åŠ è½½å¹¿å‘Š
            startChatProcess();

            // // ä»¥ä¸‹æ˜¯è¢«å±è”½çš„å¹¿å‘Šä»£ç ï¼Œä¸å†æ‰§è¡Œ
            // // åˆ›å»ºä¸€ä¸ªæ ‡å¿—ï¼Œè¡¨ç¤ºå¹¿å‘Šå·²ç»åŠ è½½
            // window.adLoaded = true;
            
            // // åˆ›å»ºä¸€ä¸ªè®¡æ—¶å™¨ï¼Œåœ¨ä¸€å®šæ—¶é—´åè‡ªåŠ¨ç»§ç»­èŠå¤©æµç¨‹ï¼ˆå¦‚æœå¹¿å‘Šæ²¡æœ‰æ­£å¸¸å…³é—­ï¼‰
            // var adTimeout = setTimeout(function() {
            //     startChatProcess();
            // }, 5000); // 5ç§’åè‡ªåŠ¨ç»§ç»­
            
            // // ä¿å­˜è®¡æ—¶å™¨IDï¼Œä»¥ä¾¿åœ¨å¹¿å‘Šå…³é—­æ—¶æ¸…é™¤
            // window.adTimeoutId = adTimeout;
            
            // // ç›‘å¬å¹¿å‘Šå…³é—­äº‹ä»¶
            // window.addEventListener('message', function(event) {
            //     // æ£€æŸ¥æ¶ˆæ¯æ˜¯å¦æ¥è‡ªå¹¿å‘Š
            //     if (event.data && event.data.adClosed) {
            //         // æ¸…é™¤è‡ªåŠ¨ç»§ç»­çš„è®¡æ—¶å™¨
            //         clearTimeout(window.adTimeoutId);
            //         // ç»§ç»­èŠå¤©æµç¨‹
            //         startChatProcess();
            //     }
            // });
            
            // // åŠ è½½å¹¿å‘Šè„šæœ¬
            // var adScript = document.createElement('script');
            // adScript.onload = function() {
            //     console.log('Ad script loaded');
            // };
            
            // // ä½¿ç”¨åŒ¿åå‡½æ•°åŒ…è£…å¹¿å‘Šä»£ç ï¼Œä»¥ä¾¿åœ¨ç§»åŠ¨ç«¯ä¹Ÿèƒ½æ­£å¸¸å·¥ä½œ
            // (function(d,z,s){
            //     s.src='https://'+d+'/401/'+z;
            //     try{
            //         (document.body||document.documentElement).appendChild(s);
                    
            //         // ä¸ºç§»åŠ¨è®¾å¤‡æ·»åŠ ç‰¹æ®Šå¤„ç†
            //         if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
            //             // ç§»åŠ¨è®¾å¤‡ä¸Šå¯èƒ½éœ€è¦ç‰¹æ®Šå¤„ç†
            //             console.log('Mobile device detected, applying special handling');
                        
            //             // ç¡®ä¿å¹¿å‘Šå®¹å™¨é€‚åº”ç§»åŠ¨å±å¹•
            //             var adContainers = document.querySelectorAll('.ad-container');
            //             adContainers.forEach(function(container) {
            //                 container.style.width = '100%';
            //                 container.style.maxWidth = '100vw';
            //                 container.style.height = 'auto';
            //             });
            //         }
            //     }catch(e){
            //         console.error('Error loading ad:', e);
            //         // å¦‚æœå¹¿å‘ŠåŠ è½½å¤±è´¥ï¼Œç»§ç»­èŠå¤©æµç¨‹
            //         startChatProcess();
            //     }
            // })('gizokraijaw.net',9588047,adScript);
            
            // console.log('Ad loading initiated');
        }
        
        // å¼€å§‹èŠå¤©æµç¨‹
        function startChatProcess() {
            console.log('Starting chat process...');
            
            // æ£€æŸ¥æ˜¯å¦å·²ç»æœ‰ä¿å­˜çš„API Key
            const savedApiKey = localStorage.getItem('grokani_api_key');
            const savedProvider = localStorage.getItem('grokani_provider');
            
            if (savedApiKey && savedApiKey.trim() !== '' && savedProvider) {
                // å¦‚æœAPI keyå’Œæä¾›å•†éƒ½å·²å­˜åœ¨ï¼Œç›´æ¥è¿›å…¥èŠå¤©é¡µé¢
                console.log('API key and provider found, redirecting to chat page');
                window.location.href = 'chat.html';
            } else {
                // å¦‚æœæ²¡æœ‰API keyæˆ–æä¾›å•†ï¼Œæ˜¾ç¤ºæ¨¡å‹é€‰æ‹©å¯¹è¯æ¡†
                console.log('API key or provider not found, showing model selection dialog');
                showModelSelectionDialog();
            }
        }
        
        // æ˜¾ç¤ºæ¨¡å‹é€‰æ‹©å¯¹è¯æ¡†
        function showModelSelectionDialog() {
            // åˆ›å»ºåŠé€æ˜èƒŒæ™¯é®ç½©
            var overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.5)'; // 50%é€æ˜åº¦
            overlay.style.zIndex = '999';
            document.body.appendChild(overlay);
            
            // åˆ›å»ºå¯¹è¯æ¡†å…ƒç´ 
            var dialog = document.createElement('div');
            dialog.className = 'model-selection-dialog';
            dialog.style.position = 'fixed';
            dialog.style.top = '50%';
            dialog.style.left = '50%';
            dialog.style.transform = 'translate(-50%, -50%)';
            dialog.style.backgroundColor = 'var(--card-bg, #1a1a2e)';
            dialog.style.borderRadius = 'var(--border-radius, 12px)';
            dialog.style.padding = '20px';
            dialog.style.boxShadow = 'var(--shadow-lg, 0 10px 25px rgba(0, 0, 0, 0.5))';
            dialog.style.zIndex = '1000';
            dialog.style.maxWidth = '90%';
            dialog.style.width = '400px';
            dialog.style.maxHeight = '80vh';
            dialog.style.overflowY = 'auto';
            
            // æ·»åŠ æ ‡é¢˜
            var title = document.createElement('h3');
            title.textContent = 'Select AI Model';
            title.style.marginTop = '0';
            title.style.color = 'var(--text-primary, #ffffff)';
            dialog.appendChild(title);
            
            // æ·»åŠ æ¨¡å‹é€‰é¡¹ - 6ä¸ªä¸åŒçš„æä¾›å•†
            var models = [
                { name: 'OpenAI', icon: 'ğŸ¤–', provider: 'openai' },
                { name: 'Anthropic', icon: 'ğŸ­', provider: 'anthropic' },
                { name: 'Gemini', icon: 'ğŸ’', provider: 'google' },
                { name: 'OpenRouter', icon: 'ğŸŒ', provider: 'openrouter' },
                { name: 'Ollama', icon: 'ğŸ¦™', provider: 'ollama' },
                { name: 'DeepSeek', icon: 'ğŸ”', provider: 'deepseek' }
            ];
            
            models.forEach(function(model) {
                var option = document.createElement('div');
                option.className = 'model-option';
                option.style.display = 'flex';
                option.style.alignItems = 'center';
                option.style.padding = '12px';
                option.style.margin = '10px 0';
                option.style.borderRadius = 'var(--border-radius-small, 8px)';
                option.style.backgroundColor = 'var(--card-hover-bg, #252547)';
                option.style.cursor = 'pointer';
                option.style.transition = 'var(--transition, all 0.3s ease)';
                
                option.innerHTML = '<span style="font-size: 1.5rem; margin-right: 12px;">' + model.icon + '</span>' +
                                  '<span style="color: var(--text-primary, #ffffff);">' + model.name + '</span>';
                
                // æ·»åŠ ç‚¹å‡»äº‹ä»¶
                option.onclick = function() {
                    // å…³é—­å¯¹è¯æ¡†
                    document.body.removeChild(dialog);
                    // å¼€å§‹ä¸é€‰å®šæ¨¡å‹çš„èŠå¤©
                    startChatWithModel(model.name);
                };
                
                // æ·»åŠ æ‚¬åœæ•ˆæœ
                option.onmouseover = function() {
                    this.style.backgroundColor = 'var(--accent-purple, #6B46C1)';
                };
                option.onmouseout = function() {
                    this.style.backgroundColor = 'var(--card-hover-bg, #252547)';
                };
                
                dialog.appendChild(option);
            });
            
            // æ·»åŠ å–æ¶ˆæŒ‰é’®
            var cancelButton = document.createElement('button');
            cancelButton.textContent = 'Cancel';
            cancelButton.style.backgroundColor = 'transparent';
            cancelButton.style.border = '1px solid var(--card-border, #444464)';
            cancelButton.style.color = 'var(--text-secondary, #a0a0c0)';
            cancelButton.style.padding = '8px 16px';
            cancelButton.style.borderRadius = 'var(--border-radius-small, 8px)';
            cancelButton.style.cursor = 'pointer';
            cancelButton.style.marginTop = '15px';
            cancelButton.style.width = '100%';
            
            cancelButton.onclick = function() {
                document.body.removeChild(dialog);
            };
            
            dialog.appendChild(cancelButton);
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(dialog);
        }
        
        // å¼€å§‹ä¸é€‰å®šæ¨¡å‹çš„èŠå¤©
        function startChatWithModel(modelName) {
            console.log('Starting chat with ' + modelName);
            
            // è·å–æ¨¡å‹æä¾›å•† - ç›´æ¥ä½¿ç”¨æ¨¡å‹åç§°ä½œä¸ºæä¾›å•†
            let provider = '';
            if (modelName === 'OpenAI') {
                provider = 'openai';
            } else if (modelName === 'Anthropic') {
                provider = 'anthropic';
            } else if (modelName === 'Gemini') {
                provider = 'google';
            } else if (modelName === 'OpenRouter') {
                provider = 'openrouter';
            } else if (modelName === 'Ollama') {
                provider = 'ollama';
            } else if (modelName === 'DeepSeek') {
                provider = 'deepseek';
            }
            
            // æ˜¾ç¤ºAPI Keyè¾“å…¥å¯¹è¯æ¡†
            showApiKeyDialog(modelName, provider);
        }
        
        // æ˜¾ç¤ºAPI Keyè¾“å…¥å¯¹è¯æ¡†
        function showApiKeyDialog(modelName, provider) {
            // åˆ›å»ºåŠé€æ˜èƒŒæ™¯é®ç½©
            var overlay = document.createElement('div');
            overlay.style.position = 'fixed';
            overlay.style.top = '0';
            overlay.style.left = '0';
            overlay.style.width = '100%';
            overlay.style.height = '100%';
            overlay.style.backgroundColor = 'rgba(0, 0, 0, 0.5)'; // 50%é€æ˜åº¦
            overlay.style.zIndex = '999';
            document.body.appendChild(overlay);
            
            // åˆ›å»ºå¯¹è¯æ¡†å…ƒç´ 
            var dialog = document.createElement('div');
            dialog.className = 'api-key-dialog';
            dialog.style.position = 'fixed';
            dialog.style.top = '50%';
            dialog.style.left = '50%';
            dialog.style.transform = 'translate(-50%, -50%)';
            dialog.style.backgroundColor = 'var(--card-bg, #1a1a2e)';
            dialog.style.borderRadius = 'var(--border-radius, 12px)';
            dialog.style.padding = '20px';
            dialog.style.boxShadow = 'var(--shadow-lg, 0 10px 25px rgba(0, 0, 0, 0.5))';
            dialog.style.zIndex = '1000';
            dialog.style.maxWidth = '90%';
            dialog.style.width = '400px';
            
            // æ·»åŠ æ ‡é¢˜
            var title = document.createElement('h3');
            title.textContent = 'Enter ' + getProviderName(provider) + ' API Key';
            title.style.marginTop = '0';
            title.style.color = 'var(--text-primary, #ffffff)';
            dialog.appendChild(title);
            
            // æ·»åŠ æè¿°
            var description = document.createElement('p');
            description.textContent = 'To use ' + modelName + ', you need to provide your API key. Your key is stored locally and never sent to our servers.';
            description.style.color = 'var(--text-secondary, #a0a0c0)';
            description.style.marginBottom = '20px';
            dialog.appendChild(description);
            
            // æ·»åŠ API Keyè¾“å…¥æ¡†
            var inputContainer = document.createElement('div');
            inputContainer.style.marginBottom = '20px';
            
            var label = document.createElement('label');
            label.textContent = 'API Key:';
            label.style.display = 'block';
            label.style.marginBottom = '8px';
            label.style.color = 'var(--text-primary, #ffffff)';
            inputContainer.appendChild(label);
            
            var input = document.createElement('input');
            input.type = 'password';
            input.placeholder = 'Enter your ' + getProviderName(provider) + ' API key';
            input.style.width = '100%';
            input.style.padding = '10px';
            input.style.borderRadius = 'var(--border-radius-small, 8px)';
            input.style.border = '1px solid var(--card-border, #444464)';
            input.style.backgroundColor = 'var(--input-bg, #252547)';
            input.style.color = 'var(--text-primary, #ffffff)';
            input.style.marginBottom = '10px';
            inputContainer.appendChild(input);
            
            // æ·»åŠ æ˜¾ç¤º/éšè—API Keyçš„å¤é€‰æ¡†
            var showKeyContainer = document.createElement('div');
            showKeyContainer.style.display = 'flex';
            showKeyContainer.style.alignItems = 'center';
            
            var checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = 'show-api-key';
            checkbox.style.marginRight = '8px';
            showKeyContainer.appendChild(checkbox);
            
            var checkboxLabel = document.createElement('label');
            checkboxLabel.htmlFor = 'show-api-key';
            checkboxLabel.textContent = 'Show API Key';
            checkboxLabel.style.color = 'var(--text-secondary, #a0a0c0)';
            showKeyContainer.appendChild(checkboxLabel);
            
            // æ·»åŠ æ˜¾ç¤º/éšè—API Keyçš„åŠŸèƒ½
            checkbox.addEventListener('change', function() {
                input.type = this.checked ? 'text' : 'password';
            });
            
            inputContainer.appendChild(showKeyContainer);
            dialog.appendChild(inputContainer);
            
            // æ·»åŠ "Remember this key"å¤é€‰æ¡†
            var rememberContainer = document.createElement('div');
            rememberContainer.style.display = 'flex';
            rememberContainer.style.alignItems = 'center';
            rememberContainer.style.marginBottom = '20px';
            
            var rememberCheckbox = document.createElement('input');
            rememberCheckbox.type = 'checkbox';
            rememberCheckbox.id = 'remember-api-key';
            rememberCheckbox.checked = true;
            rememberCheckbox.style.marginRight = '8px';
            rememberContainer.appendChild(rememberCheckbox);
            
            var rememberLabel = document.createElement('label');
            rememberLabel.htmlFor = 'remember-api-key';
            rememberLabel.textContent = 'Remember this key';
            rememberLabel.style.color = 'var(--text-secondary, #a0a0c0)';
            rememberContainer.appendChild(rememberLabel);
            
            dialog.appendChild(rememberContainer);
            
            // æ·»åŠ æŒ‰é’®å®¹å™¨
            var buttonContainer = document.createElement('div');
            buttonContainer.style.display = 'flex';
            buttonContainer.style.justifyContent = 'space-between';
            buttonContainer.style.gap = '10px';
            
            // æ·»åŠ å–æ¶ˆæŒ‰é’®
            var cancelButton = document.createElement('button');
            cancelButton.textContent = 'Cancel';
            cancelButton.style.flex = '1';
            cancelButton.style.backgroundColor = 'transparent';
            cancelButton.style.border = '1px solid var(--card-border, #444464)';
            cancelButton.style.color = 'var(--text-secondary, #a0a0c0)';
            cancelButton.style.padding = '10px';
            cancelButton.style.borderRadius = 'var(--border-radius-small, 8px)';
            cancelButton.style.cursor = 'pointer';
            
            cancelButton.onclick = function() {
                document.body.removeChild(overlay);
                document.body.removeChild(dialog);
            };
            
            buttonContainer.appendChild(cancelButton);
            
            // æ·»åŠ ç»§ç»­æŒ‰é’®
            var continueButton = document.createElement('button');
            continueButton.textContent = 'Continue';
            continueButton.style.flex = '1';
            continueButton.style.backgroundColor = 'var(--primary-purple, #6B46C1)';
            continueButton.style.border = 'none';
            continueButton.style.color = 'white';
            continueButton.style.padding = '10px';
            continueButton.style.borderRadius = 'var(--border-radius-small, 8px)';
            continueButton.style.cursor = 'pointer';
            
            continueButton.onclick = function() {
                var apiKey = input.value.trim();
                if (apiKey) {
                    // ä¿å­˜API Keyåˆ°localStorageï¼Œä½¿ç”¨é€šç”¨é”®åå’Œç‰¹å®šäºæä¾›å•†çš„é”®å
                    localStorage.setItem('grokani_provider', provider);
                    localStorage.setItem('grokani_api_key', apiKey);
                    
                    // åŒæ—¶ä¿å­˜ç‰¹å®šäºæä¾›å•†çš„API Key
                    localStorage.setItem(provider + '_api_key', apiKey);
                    
                    // æ˜¾ç¤ºä¿å­˜æˆåŠŸçš„æç¤º
                    const saveMessage = document.createElement('div');
                    saveMessage.textContent = 'API Key saved successfully!';
                    saveMessage.style.position = 'fixed';
                    saveMessage.style.top = '20px';
                    saveMessage.style.left = '50%';
                    saveMessage.style.transform = 'translateX(-50%)';
                    saveMessage.style.backgroundColor = '#6B46C1';
                    saveMessage.style.color = 'white';
                    saveMessage.style.padding = '10px 20px';
                    saveMessage.style.borderRadius = '8px';
                    saveMessage.style.zIndex = '1000';
                    document.body.appendChild(saveMessage);
                    
                    // å…³é—­å¯¹è¯æ¡†
                    document.body.removeChild(overlay);
                    document.body.removeChild(dialog);
                    
                    // 1ç§’åç§»é™¤æç¤ºå¹¶è·³è½¬
                    setTimeout(() => {
                        document.body.removeChild(saveMessage);
                        // è·³è½¬åˆ°èŠå¤©é¡µé¢
                        window.location.href = 'chat.html';
                    }, 1000);
                } else {
                    // æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
                    input.style.border = '1px solid red';
                    var errorMsg = document.createElement('p');
                    errorMsg.textContent = 'Please enter a valid API key';
                    errorMsg.style.color = 'red';
                    errorMsg.style.margin = '5px 0';
                    
                    // å¦‚æœå·²ç»æœ‰é”™è¯¯æ¶ˆæ¯ï¼Œåˆ™ä¸å†æ·»åŠ 
                    if (!document.querySelector('.api-key-error')) {
                        errorMsg.className = 'api-key-error';
                        inputContainer.insertBefore(errorMsg, showKeyContainer);
                    }
                }
            };
            
            buttonContainer.appendChild(continueButton);
            dialog.appendChild(buttonContainer);
            
            // æ·»åŠ "Get API Key"é“¾æ¥
            var getKeyLink = document.createElement('a');
            getKeyLink.textContent = 'Don\'t have an API key? Get one here';
            getKeyLink.href = getApiKeyUrl(provider);
            getKeyLink.target = '_blank';
            getKeyLink.style.display = 'block';
            getKeyLink.style.textAlign = 'center';
            getKeyLink.style.marginTop = '15px';
            getKeyLink.style.color = 'var(--accent-purple, #8B5CF6)';
            getKeyLink.style.textDecoration = 'none';
            dialog.appendChild(getKeyLink);
            
            // æ·»åŠ åˆ°é¡µé¢
            document.body.appendChild(dialog);
            
            // è‡ªåŠ¨å¡«å……å·²ä¿å­˜çš„API Key
            var savedApiKey = localStorage.getItem(provider + '_api_key');
            if (savedApiKey) {
                input.value = savedApiKey;
            }
            
            // èšç„¦åˆ°è¾“å…¥æ¡†
            input.focus();
        }
        
        // è·å–æä¾›å•†åç§°
        function getProviderName(provider) {
            switch (provider) {
                case 'openai':
                    return 'OpenAI';
                case 'anthropic':
                    return 'Anthropic';
                case 'google':
                    return 'Google';
                default:
                    return 'API';
            }
        }
        
        // è·å–API Key URL
        function getApiKeyUrl(provider) {
            switch (provider) {
                case 'openai':
                    return 'https://platform.openai.com/api-keys';
                case 'anthropic':
                    return 'https://console.anthropic.com/account/keys';
                case 'google':
                    return 'https://makersuite.google.com/app/apikey';
                default:
                    return '#';
            }
        }
        
        // ç¡®ä¿å›¾ç‰‡æ­£ç¡®åŠ è½½
        document.addEventListener('DOMContentLoaded', function () {
            // è·å–æ‰€æœ‰å›¾ç‰‡å…ƒç´ 
            const images = document.querySelectorAll('img');

            // ä¸ºæ¯ä¸ªå›¾ç‰‡æ·»åŠ åŠ è½½äº‹ä»¶å¤„ç†
            images.forEach(img => {
                // æ·»åŠ éšæœºå‚æ•°é˜²æ­¢ç¼“å­˜
                if (img.src.includes('imgur.com')) {
                    img.src = img.src + '?v=' + new Date().getTime();
                }

                // æ·»åŠ é”™è¯¯å¤„ç†
                img.onerror = function () {
                    console.error('Image failed to load:', this.src);
                    // é‡è¯•åŠ è½½
                    setTimeout(() => {
                        this.src = this.src.split('?')[0] + '?retry=' + new Date().getTime();
                    }, 500);
                };

                // æ·»åŠ åŠ è½½å®Œæˆå¤„ç†
                img.onload = function () {
                    console.log('Image loaded successfully:', this.src);
                };
            });
            
            // åˆå§‹åŒ–å£çº¸è½®æ’­
            initWallpaperRotation();
        });

        // å½“ä»å…¶ä»–é¡µé¢è¿”å›æ—¶ï¼Œç¡®ä¿é‡æ–°åŠ è½½å›¾ç‰‡
        window.addEventListener('pageshow', function (event) {
            // å¦‚æœæ˜¯ä»ç¼“å­˜åŠ è½½çš„é¡µé¢ï¼Œé‡æ–°åŠ è½½å›¾ç‰‡
            if (event.persisted) {
                window.location.reload();
            }
        });
        
        // å£çº¸è½®æ’­åŠŸèƒ½
        function initWallpaperRotation() {
            const wallpapers = document.querySelectorAll('.ani-wallpaper');
            console.log('GrokAni Debug: initWallpaperRotation called. Total wallpapers found:', wallpapers.length); // è°ƒè¯•æ—¥å¿—
            if (wallpapers.length === 0) {
                console.warn('GrokAni Debug: No wallpapers found to rotate.'); // è°ƒè¯•æ—¥å¿—
                return;
            }
            
            // ç¡®ä¿ç¬¬ä¸€å¼ å£çº¸é»˜è®¤æ˜¾ç¤ºï¼Œæˆ‘ä»¬å°†åˆå§‹ç´¢å¼•è®¾ç½®ä¸º0
            let currentIndex = 0; // ä¿®æ”¹ï¼šä»ç¬¬ä¸€å¼ å£çº¸å¼€å§‹ (ç´¢å¼•ä¸º0)
            console.log('GrokAni Debug: Initial wallpaper index set to:', currentIndex); // è°ƒè¯•æ—¥å¿—
            showWallpaper(currentIndex);
            
            // æ¯30ç§’åˆ‡æ¢ä¸€æ¬¡å£çº¸
            setInterval(() => {
                // é¡ºåºåˆ‡æ¢åˆ°ä¸‹ä¸€å¼ å£çº¸ã€‚å¦‚æœå½“å‰æ˜¯æœ€åä¸€å¼ ï¼Œåˆ™å›åˆ°ç¬¬ä¸€å¼ ï¼ˆé€šè¿‡æ¨¡è¿ç®—å®ç°ï¼‰
                currentIndex = (currentIndex + 1) % wallpapers.length; // ä¿®æ”¹ï¼šå®ç°é¡ºåºè½®æ’­
                console.log('GrokAni Debug: Switching to next wallpaper. New index:', currentIndex); // è°ƒè¯•æ—¥å¿—
                showWallpaper(currentIndex);
            }, 30000); // 30ç§’
        }
        
        // æ˜¾ç¤ºæŒ‡å®šç´¢å¼•çš„å£çº¸
        function showWallpaper(index) {
            const wallpapers = document.querySelectorAll('.ani-wallpaper');
            // è®°å½•æ­£åœ¨å°è¯•æ˜¾ç¤ºçš„å£çº¸URLï¼Œä»¥ä¾¿æˆ‘ä»¬çŸ¥é“æ˜¯å“ªä¸€å¼ 
            console.log('GrokAni Debug: showWallpaper called for index:', index, 'URL:', wallpapers[index] ? wallpapers[index].src : 'N/A'); // è°ƒè¯•æ—¥å¿—
            
            // éšè—æ‰€æœ‰å£çº¸
            wallpapers.forEach(wallpaper => {
                wallpaper.classList.remove('active');
                wallpaper.style.opacity = '0';
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å£çº¸
            if (wallpapers[index]) { // ç¡®ä¿ç´¢å¼•æœ‰æ•ˆ
                wallpapers[index].classList.add('active');
                wallpapers[index].style.opacity = '1';
                console.log('GrokAni Debug: Successfully applied styles to wallpaper at index:', index); // è°ƒè¯•æ—¥å¿—
            } else {
                console.error('GrokAni Debug: Error: Wallpaper at index', index, 'does not exist.'); // è°ƒè¯•æ—¥å¿—
            }
        }
    </script>
</body>

</html>